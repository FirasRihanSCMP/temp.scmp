{"ast":null,"code":"import _asyncToGenerator from\"F:\\\\Website\\\\SCMP WebDev\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"F:\\\\Website\\\\SCMP WebDev\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\Website\\\\SCMP WebDev\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import React from\"react\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import Events from\"../Events/Events\";import EventsComp from\"../EventsComp\";import NotFound from\"../NotFound\";import Topstyles from\"./seperateEvent.module.css\";import{css}from\"@emotion/react\";import Spinner from\"../ClipLoader/Spinner\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function SeperateEvent(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Event=_useState2[0],setEvent=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),Loaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorFetchedChecker=_useState6[0],seterrorFetchedChecker=_useState6[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost/api/SeperateEvent\",{EID:id}).then(function(response){if(response.data===\"not found\"){setLoaded(true);setEvent(\"\");}else if(response.data.length>0){setLoaded(true);setEvent(response.data);}}).catch(function(err){seterrorFetchedChecker(function(c){return!c;});});case 2:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}if(errorFetchedChecker){setTimeout(function(){fetchData();},[3000]);// 3 seconds\n}else{fetchData();}},[errorFetchedChecker]);return/*#__PURE__*/_jsx(\"div\",{children:Loaded?Event.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:Topstyles.titleEng,children:[/*#__PURE__*/_jsxs(\"p\",{className:Topstyles.date,children:[\"Date: \",props.date||Event[0].EDate]}),/*#__PURE__*/_jsx(\"h1\",{className:Topstyles.title,children:props.title||Event[0].ETitle}),/*#__PURE__*/_jsx(\"p\",{children:props.text2||Event[0].EBrief})]}),/*#__PURE__*/_jsx(EventsComp,{img:props.img||Event[0].EPhotos})]}):/*#__PURE__*/_jsx(NotFound,{}):/*#__PURE__*/_jsx(Spinner,{})})/*     <div>\r\n    <h1>{Event.ETitle}</h1>\r\n    <div className={Topstyles.titleEng}>\r\n      {\" \"}\r\n      <p className={Topstyles.date}>Date: {props.date}</p>\r\n      <h1 className={Topstyles.title}>{props.title}</h1>\r\n      <p>{props.text2}</p>\r\n    </div>\r\n    <EventsComp img={props.img} />\r\n  </div> */;}","map":{"version":3,"sources":["F:/Website/SCMP WebDev/client/src/components/seperateEvent/seperateEvent.jsx"],"names":["axios","React","useEffect","useState","useParams","Events","EventsComp","NotFound","Topstyles","css","Spinner","SeperateEvent","props","Event","setEvent","Loaded","setLoaded","errorFetchedChecker","seterrorFetchedChecker","id","fetchData","post","EID","then","response","data","length","catch","err","c","setTimeout","titleEng","date","EDate","title","ETitle","text2","EBrief","img","EPhotos"],"mappings":"sXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,OAASC,GAAT,KAAoB,gBAApB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,wFACA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC3C,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eACA,eAAyBX,QAAQ,CAAC,KAAD,CAAjC,yCAAOY,MAAP,eAAcC,SAAd,eACA,eAAsDb,QAAQ,CAAC,KAAD,CAA9D,yCAAOc,mBAAP,eAA4BC,sBAA5B,eACA,eAAad,SAAS,EAAtB,CAAMe,EAAN,YAAMA,EAAN,CAECjB,SAAS,CAAC,UAAM,SACAkB,CAAAA,SADA,qIACf,yJACMpB,CAAAA,KAAK,CACRqB,IADG,CACE,oCADF,CACwC,CAAEC,GAAG,CAAEH,EAAP,CADxC,EAEHI,IAFG,CAEE,SAACC,QAAD,CAAc,CAEtB,GAAGA,QAAQ,CAACC,IAAT,GAAgB,WAAnB,CAA+B,CAC7BT,SAAS,CAAC,IAAD,CAAT,CACEF,QAAQ,CAAC,EAAD,CAAR,CAED,CAJH,IAKK,IAAGU,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAAxB,CAA0B,CAC7BV,SAAS,CAAC,IAAD,CAAT,CACAF,QAAQ,CAACU,QAAQ,CAACC,IAAV,CAAR,CACD,CAAC,CAZI,EAaLE,KAbK,CAaC,SAAAC,GAAG,CAAE,CAEVV,sBAAsB,CAAC,SAACW,CAAD,QAAO,CAACA,CAAR,EAAD,CAAtB,CACD,CAhBK,CADN,uDADe,4CAoBjB,GAAGZ,mBAAH,CAAuB,CACrBa,UAAU,CAAC,UAAI,CACXV,SAAS,GACZ,CAFS,CAER,CAAC,IAAD,CAFQ,CAAV,CAES;AACZ,CAJC,IAIK,CACHA,SAAS,GACZ,CAAE,CA1BS,CA0BP,CAACH,mBAAD,CA1BO,CAAT,CA2BD,mBACE,qBAEAF,MAAM,CAAGF,KAAK,CAACa,MAAN,CAAa,CAAb,cAAiB,wCAAM,aAAK,SAAS,CAAElB,SAAS,CAACuB,QAA1B,wBAE5B,WAAG,SAAS,CAAEvB,SAAS,CAACwB,IAAxB,oBAAqCpB,KAAK,CAACoB,IAAN,EAAYnB,KAAK,CAAC,CAAD,CAAL,CAASoB,KAA1D,GAF4B,cAG5B,WAAI,SAAS,CAAEzB,SAAS,CAAC0B,KAAzB,UAAiCtB,KAAK,CAACsB,KAAN,EAAarB,KAAK,CAAC,CAAD,CAAL,CAASsB,MAAvD,EAH4B,cAI5B,mBAAIvB,KAAK,CAACwB,KAAN,EAAavB,KAAK,CAAC,CAAD,CAAL,CAASwB,MAA1B,EAJ4B,GAAN,cAMxB,KAAC,UAAD,EAAY,GAAG,CAAEzB,KAAK,CAAC0B,GAAN,EAAWzB,KAAK,CAAC,CAAD,CAAL,CAAS0B,OAArC,EANwB,GAAjB,cAMkD,KAAC,QAAD,IANrD,cAMmE,KAAC,OAAD,IARzE,EAYJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAtBE,CAwBD","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Events from \"../Events/Events\";\r\nimport EventsComp from \"../EventsComp\";\r\nimport NotFound from \"../NotFound\";\r\nimport Topstyles from \"./seperateEvent.module.css\";\r\nimport { css } from \"@emotion/react\";\r\n\r\nimport Spinner from \"../ClipLoader/Spinner\";\r\nexport default function SeperateEvent(props) {\r\n  const [Event, setEvent] = useState([]);\r\n  const [Loaded,setLoaded]=useState(false)\r\n  const [errorFetchedChecker, seterrorFetchedChecker] = useState(false);\r\n  let { id } = useParams();\r\n\r\n   useEffect(() => {\r\n    async function fetchData(){\r\n    await axios\r\n      .post(\"http://localhost/api/SeperateEvent\", { EID: id })\r\n      .then((response) => {\r\n  \r\n    if(response.data===\"not found\"){\r\n      setLoaded(true)\r\n        setEvent(\"\");\r\n     \r\n      }\r\n    else if(response.data.length>0){\r\n      setLoaded(true)\r\n      setEvent(response.data)\r\n    }})\r\n    .catch(err=>{\r\n     \r\n      seterrorFetchedChecker((c) => !c);\r\n    });\r\n  }\r\n  if(errorFetchedChecker){\r\n    setTimeout(()=>{\r\n        fetchData();\r\n    },[3000])// 3 seconds\r\n} else {\r\n    fetchData();\r\n} }, [errorFetchedChecker]); \r\n  return (\r\n    <div>\r\n\r\n   {Loaded? (Event.length>0 ? <div> <div className={Topstyles.titleEng}>\r\n        \r\n        <p className={Topstyles.date}>Date: {props.date||Event[0].EDate}</p>\r\n        <h1 className={Topstyles.title}>{props.title||Event[0].ETitle}</h1>\r\n        <p>{props.text2||Event[0].EBrief}</p>\r\n      </div>\r\n      <EventsComp img={props.img||Event[0].EPhotos} /></div>:  <NotFound/>) :<Spinner/> }\r\n    \r\n     \r\n    </div>\r\n/*     <div>\r\n    <h1>{Event.ETitle}</h1>\r\n    <div className={Topstyles.titleEng}>\r\n      {\" \"}\r\n      <p className={Topstyles.date}>Date: {props.date}</p>\r\n      <h1 className={Topstyles.title}>{props.title}</h1>\r\n      <p>{props.text2}</p>\r\n    </div>\r\n    <EventsComp img={props.img} />\r\n  </div> */\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}